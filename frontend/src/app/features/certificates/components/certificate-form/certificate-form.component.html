<form
    class="modalContent"
    [formGroup]="addCertificateForm" 
    (ngSubmit)="onSubmit()" 
>

    <h2>{{ "ADD_CERTIFICATE_FORM_TITLE" | translate }} :</h2>

    <section>

      <!-- // Organismes de plongée (Step 1) -->
      <mat-form-field>
        <mat-label>Organisme de plongée</mat-label>
        <mat-select formControlName="organisationValue" name="organisation">
          @for (organisation of organisations; track organisation) {
            <mat-option [value]="organisation">{{organisation}}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <!-- // Certificat (Step 2 - caché), enlever ceux déjà ajoutés -->
      <mat-form-field *ngIf="addCertificateForm.get('organisationValue')?.value">
          <mat-label>Nom du certificat</mat-label>
          <mat-select formControlName="certificateValue" name="certificate">
            @for (certificate of filteredCertificates; track certificate) {
              <mat-option [value]="certificate.name">{{certificate.name}}</mat-option>
            }
          </mat-select>
      </mat-form-field>

      <!-- // Date d'obtention (optionnel) -->

      <!-- // Lieu d'obtention (optionnel) -->

    </section>

    <button 
      mat-flat-button 
      color="primary"
      class="cta-btn-primary bigButton" 
      type="submit" 
      [disabled]="addCertificateForm.invalid"
    >
      <span>{{ "ADD" | translate }}</span>
    </button>


</form>


